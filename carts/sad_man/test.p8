pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- sadman
-- by theo5607

--variables

ctime = {
	ms=0,
	s=0,
	m=0
}

actors = {}

--fonctions recureentes

function _init()
	p=make_actor(40,40,{0,2},2,2)
end

function _update()
	time_manager()
	
	anim_actor()
end

function _draw()
	cls()
	draw_actor()
end

--autres basiques

function make_actor(x,y,list_sp,h,w)
	local actor = {}
	actor.sprite=list_sp[1]
	actor.x=x
	actor.y=y
	actor.h=h
	actor.w=w
	actor.list_sprite=list_sp
	actor.index_anim=1
	add(actors,actor)
	return actor	
end

function anim_actor()
	if ctime.ms==0 or ctime.ms==15 then
		for a in all(actors) do
			if a.index_anim==1 then
				 a.index_anim+=1
			else
				a.index_anim-=1
			end
			
			a.sprite=a.list_sprite[a.index_anim]
		end
	end
end

function draw_actor()
	for a in all(actors) do
		spr(a.sprite,a.x,a.y,a.h,a.w)
	end
end

--time manager

function time_manager()
	ctime.ms+=1
	if ctime.ms==30 then
		ctime.ms=0
		ctime.s+=1
		if ctime.s==60 then
			ctime.s=0
			ctime.m+=1
		end
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00009999000000000000000000000000000022200000222000000000000000000000000000000000000000000000000000000000000000000000000000000000
0009dd9dd00000000000999900000000002222222002222200000000000000000000000000000000000000000000000000000000000000000000000000000000
00099999900000000009dd9dd0000000022282820222828200000000000000000000000000000000000000000000000000000000000000000000000000000000
00099ddd900000000009999990000000200228220022282200000000000000000000000000000000000000000000000000000000000000000000000000000000
00099d9d9000000000099ddd90000000000022200000222000000000000000000000000000000000000000000000000000000000000000000000000000000000
000099990000000000099d9d90000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
099099990000dd00000099990000dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
999999d99999ddd0999999d99999ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
990999d99999ddd0999999d99999ddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cc0999d99000dd00990999d99000dd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0009999990000000cc09999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00999009990000000009999990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
09990000999000000099900999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ccc000000ccc00000ccc0000ccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
